---
permalink: /vault/
title: "Vault"
author_profile: false
sitemap: false
layout: default
---

<style>
  /* Passcode screen */
  .vault-lock {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 60vh;
    width: 100%;
    text-align: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  .vault-lock svg {
    width: 48px;
    height: 48px;
    margin-bottom: 1em;
    color: #0A3161;
  }
  .vault-lock h2 {
    margin: 0 0 0.25em;
    font-size: 1.3em;
    color: #333;
  }
  .vault-lock p {
    margin: 0 0 1.25em;
    color: #888;
    font-size: 0.9em;
  }
  .vault-lock form {
    display: flex;
    gap: 0.5em;
  }
  .vault-lock input[type="password"] {
    padding: 0.5em 0.75em;
    font-size: 1em;
    border: 2px solid #ccc;
    border-radius: 4px;
    outline: none;
    width: 140px;
    text-align: center;
    letter-spacing: 0.2em;
    transition: border-color 0.2s;
  }
  .vault-lock input[type="password"]:focus {
    border-color: #0A3161;
  }
  .vault-lock input.shake {
    animation: shake 0.4s ease;
    border-color: #B31942;
  }
  .vault-lock button {
    padding: 0.5em 1.2em;
    font-size: 0.95em;
    font-weight: 600;
    color: #fff;
    background: #0A3161;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s;
  }
  .vault-lock button:hover {
    background: #072345;
  }
  @keyframes shake {
    0%, 100% { transform: translateX(0); }
    20%, 60% { transform: translateX(-6px); }
    40%, 80% { transform: translateX(6px); }
  }

  /* File browser */
  .vault-browser {
    display: none;
    max-width: 700px;
    margin: 0 auto;
    padding: 0 1em;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    box-sizing: border-box;
  }
  .vault-browser h1 {
    font-size: 1.3em;
    color: #333;
    margin-bottom: 0.75em;
    padding-bottom: 0.5em;
    border-bottom: 2px solid #0A3161;
  }
  .vault-folder {
    margin-bottom: 0.25em;
  }
  .vault-folder-header {
    display: flex;
    align-items: center;
    gap: 0.4em;
    padding: 0.5em 0.6em;
    background: #f4f6f9;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.95em;
    color: #0A3161;
    user-select: none;
    transition: background 0.15s;
  }
  .vault-folder-header:hover {
    background: #e8ecf2;
  }
  .vault-folder-header .arrow {
    display: inline-block;
    font-size: 0.7em;
    transition: transform 0.2s;
  }
  .vault-folder-header .arrow.open {
    transform: rotate(90deg);
  }
  .vault-folder-contents {
    display: none;
    padding-left: 1.2em;
    margin-top: 0.15em;
  }
  .vault-folder-contents.open {
    display: block;
  }
  .vault-file {
    display: flex;
    align-items: center;
    gap: 0.4em;
    padding: 0.4em 0.6em;
    border-radius: 4px;
    transition: background 0.15s;
  }
  .vault-file:hover {
    background: #f8f8f8;
  }
  .vault-file a {
    color: #333;
    text-decoration: none;
    font-size: 0.9em;
  }
  .vault-file a:hover {
    color: #B31942;
  }
  .vault-file .file-icon {
    color: #B31942;
    flex-shrink: 0;
  }
  .vault-file .folder-icon {
    color: #0A3161;
    flex-shrink: 0;
  }
  /* Root-level files (no folder) */
  .vault-root-files {
    margin-bottom: 0.5em;
  }
</style>

<div id="main" role="main" style="position: relative; min-height: 60vh;">
<div class="archive">

  <!-- Passcode screen -->
  <div class="vault-lock" id="vaultLock">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"/>
    </svg>
    <h2>Vault</h2>
    <p>Enter passcode to access files</p>
    <form onsubmit="return checkPass()">
      <input type="password" id="passInput" maxlength="10" autofocus autocomplete="off">
      <button type="submit">Enter</button>
    </form>
  </div>

  <!-- File browser (hidden until passcode entered) -->
  <div class="vault-browser" id="vaultBrowser">
    <h1>Vault</h1>
    <div id="fileTree"></div>
  </div>

</div>
</div>

<script>
var vaultFiles = [
  {% assign vault_files = site.static_files | where_exp: "f", "f.path contains '/files/vault/'" %}
  {% for f in vault_files %}{% unless f.name == '.DS_Store' %}
  { path: "{{ f.path }}", name: "{{ f.name }}" },{% endunless %}{% endfor %}
];
function checkPass() {
  var input = document.getElementById('passInput');
  if (input.value === '0918') {
    document.getElementById('vaultLock').style.display = 'none';
    document.getElementById('vaultBrowser').style.display = 'block';
    renderTree();
  } else {
    input.classList.add('shake');
    input.value = '';
    setTimeout(function() { input.classList.remove('shake'); }, 400);
  }
  return false;
}
function renderTree() {
  var prefix = '/files/vault/';
  var tree = {};
  vaultFiles.forEach(function(f) {
    var rel = f.path.substring(prefix.length);
    var parts = rel.split('/');
    var node = tree;
    for (var i = 0; i < parts.length - 1; i++) {
      if (!node[parts[i]]) node[parts[i]] = {};
      node = node[parts[i]];
    }
    node[parts[parts.length - 1]] = f.path;
  });
  document.getElementById('fileTree').innerHTML = renderNode(tree, true);
}
function renderNode(node, isRoot) {
  var html = '';
  var folders = [];
  var files = [];
  for (var key in node) {
    if (typeof node[key] === 'string') {
      files.push({ name: key, path: node[key] });
    } else {
      folders.push({ name: key, children: node[key] });
    }
  }
  if (files.length > 0) {
    html += '<div class="vault-root-files">';
    files.forEach(function(f) {
      html += '<div class="vault-file">' +
        '<svg class="file-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>' +
        '<a href="' + f.path + '" download>' + f.name + '</a></div>';
    });
    html += '</div>';
  }
  folders.forEach(function(folder) {
    var id = 'folder-' + folder.name.replace(/[^a-zA-Z0-9]/g, '-');
    html += '<div class="vault-folder">' +
      '<div class="vault-folder-header" onclick="toggleFolder(\'' + id + '\', this)">' +
      '<span class="arrow">&#9654;</span>' +
      '<svg class="folder-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#0A3161" stroke-width="2"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg>' +
      folder.name +
      '</div>' +
      '<div class="vault-folder-contents" id="' + id + '">' +
      renderNode(folder.children, false) +
      '</div></div>';
  });
  return html;
}
function toggleFolder(id, header) {
  var el = document.getElementById(id);
  var arrow = header.querySelector('.arrow');
  el.classList.toggle('open');
  arrow.classList.toggle('open');
}
</script>
